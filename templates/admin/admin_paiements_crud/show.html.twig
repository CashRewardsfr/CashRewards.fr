{% extends 'admin.html.twig' %}

{% block title %}Demande de paiement n°{{ paiement.id }} {% endblock %}

{% block pagetitle %}{% endblock %}

{% block body %}


<div class="card">
    <div class="card-header">
        <h4>Demande de paiement n°{{ paiement.id }}</h4>
    </div>
    <div class="card-body p-0">
        <div class="table-responsive">
            <table class="table shadow-hover display mb-4 dataTablesCard short-one card-table text-black w-100">
                <tbody>
                    <tr>
                        <th>Montant</th>
                        <td><strong class="text-black h4">{{ paiement.montant ~ currency }}</strong></td>
                    </tr>
                    <tr>
                        <th>Statut</th>
                        <td><span class="badge badge-sm badge-outline-{{ paiement.statut ? 'success' : 'secondary' }}">{{ paiement.statut == 1 ? 'Valider' : 'En attente' }}</span></td>
                    </tr>
                    <tr>
                        <th>Adresse de virement</th>
                        <td><span class="badge badge-light">{{ paiement.virementEmail }}</span></td>
                    </tr>
                    <tr>
                        <th>Type de virement</th>
                        <td>
                            <span class="badge badge-sm badge-outline-{{ paiement.statut ? 'success' : 'secondary' }}">{{ paiement.virementType }}</span>
                        </td>
                    </tr>
                    <tr>
                        <th>Auteur de la demande</th>
                        <td>
                            <div class="chat-list-area" data-chat="person1">
                                <a href="{{ path('app_admin_users_crud_show', {id: paiement.user.id}) }}" class="image-bx d-block">
                                    {% if userAvatar(paiement.user) %}
                                    <img src="{{ vich_uploader_asset(userAvatar(paiement.user)) | imagine_filter('medium_avatar') }}" class="rounded-circle img-1" alt="{{ paiement.user.pseudo }}"/>
                                    {% else %}
                                    <img src="{{ asset('img/user.jpg') | imagine_filter('medium_avatar') }}" class="rounded-circle img-1">
                                    {% endif %}
                                </a>
                                <div class="info-body">
                                    <a href="{{ path('app_admin_users_crud_show', {id: paiement.user.id}) }}" class="d-flex">
                                        <h6 class="text-black user-name mb-0 font-w600 fs-16" data-name="Harry Marten">{{ paiement.user.pseudo }}</h6>
                                    </a>
                                    <a href="mailto:{{ paiement.user.email }}">{{ paiement.user.email }}</a>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>Date</th>
                        <td>{{ paiement.created|date('d/m/Y à H:s') ? paiement.created|date('d/m/Y à H:s') : '' }}</td>
                    </tr>
                    <tr>
                        <th>Date de validation</th>
                        <td>{{ paiement.statut == 1 ? paiement.updated|date('d/m/Y à H:i') : 'En attente de validation' }}</td>
                    </tr>
                    <tr>
                        <th>Actions</th>
                        <td>
                            <a href="{{ path('app_admin_paiements_crud_index') }}" class="btn btn-dark">Toute les demandes de paiements</a>

                            {% if paiement.statut %}

                            {% else %}

                            {{ include('admin/admin_paiements_crud/_validate_form.html.twig') }}

                            {% endif %}

                            {{ include('admin/admin_paiements_crud/_delete_form.html.twig') }}
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
